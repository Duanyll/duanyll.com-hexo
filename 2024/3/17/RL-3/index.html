<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 8.0.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.21.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">

  
  
  <title>强化学习作业 3 - duanyll</title>

  
    <meta name="description" content="Problem 1  对应于从 S 出发的单源最短路问题。容易得到一种最优策略                               最优策略不唯一。 Problem 2  构建  矩阵 12345n &#x3D; 4;m &#x3D; 4;id[i_, j_] :&#x3D; m (i - 1) + j;row[idx_] :&#x3D; Quotient[idx - 1, m] + 1;col[idx_] :&#x3D; Mod[id">
<meta property="og:type" content="article">
<meta property="og:title" content="强化学习作业 3">
<meta property="og:url" content="https://duanyll.com/2024/3/17/RL-3/">
<meta property="og:site_name" content="duanyll">
<meta property="og:description" content="Problem 1  对应于从 S 出发的单源最短路问题。容易得到一种最优策略                               最优策略不唯一。 Problem 2  构建  矩阵 12345n &#x3D; 4;m &#x3D; 4;id[i_, j_] :&#x3D; m (i - 1) + j;row[idx_] :&#x3D; Quotient[idx - 1, m] + 1;col[idx_] :&#x3D; Mod[id">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.duanyll.com/img/20240317121232.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317121318.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317121858.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317151607.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317151857.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317152024.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317152119.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317155613.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317155905.png">
<meta property="og:image" content="https://img.duanyll.com/img/20240317155952.png">
<meta property="article:published_time" content="2024-03-17T00:00:00.000Z">
<meta property="article:modified_time" content="2024-03-17T00:00:00.000Z">
<meta property="article:author" content="duanyll">
<meta property="article:tag" content="强化学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.duanyll.com/img/20240317121232.png">
  
  
  
  <meta name="keywords" content="强化学习">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="duanyll" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://cdn.duanyll.com/favicon.ico">
  

  

  


  

  
    <script>
      var darkmodeSettings = localStorage.getItem('darkmode') || 'auto';
      var enableDarkmode = darkmodeSettings == 'true' 
        || (darkmodeSettings == 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches);
      if (enableDarkmode) {
        document.documentElement.classList.add('global-darkmode');
      }
      window.currentTheme = enableDarkmode ? 'dark' : 'light';
    </script>
  
<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://cdn.duanyll.com/android-chrome-192x192.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">duanyll</div><div class="sub normal cap">qwq</div><div class="sub hover cap" style="opacity:0"> QWQ</div></a></div>

<nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/wiki/">Wiki</a><a class="nav-item" href="/about/">关于</a></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/" placeholder="文章搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">强化学习作业 3</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-1"><span class="toc-text">Problem 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-2"><span class="toc-text">Problem 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-3"><span class="toc-text">Problem 3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#problem-4"><span class="toc-text">Problem 4</span></a></li></ol></div></div></widget>




</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="https://github.com/duanyll" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/08a41b181ce68.svg"/></a><a class="social" href="/about/#comments" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/942ebbf1a4b91.svg"/></a><a class="social" href="javascript:darkmode.next()" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/img/half-moon.svg"/></a></div></footer>

    </aside>
    <div class='l_main'>
      

      
        



<div class="bread-nav fs12"><div class="left"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a></div><div id="post-meta">
    <span>发布于&nbsp;<time datetime="2024-03-17T00:00:00.000Z">2024-03-17</time></span>
    
    <span>更新于&nbsp;<time datetime="2024-03-17T00:00:00.000Z">2024-03-17</time></span>
    </div></div></div>

<article class='md-text content post'>
<h1 class="article-title"><span>强化学习作业 3</span></h1>

<div class="article-tags"><a class="tag-plugin colorful hashtag" color="cyan" href="/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" >  <svg t="1701408144765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4228" width="200" height="200"><path d="M426.6 64.8c34.8 5.8 58.4 38.8 52.6 73.6l-19.6 117.6h190.2l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6s58.4 38.8 52.6 73.6l-19.4 117.6H896c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-42.6 256H832c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.6-117.4h-190.4l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.4-117.8H128c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l42.6-256H192c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6z m11.6 319.2l-42.6 256h190.2l42.6-256h-190.2z" p-id="4229"></path></svg>  <span>强化学习</span></a></div>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317121232.png" fancybox="true"></div></div>
<h2 id="problem-1">Problem 1</h2>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317121318.png" fancybox="true"></div></div>
<p>对应于从 S 出发的单源最短路问题。容易得到一种最优策略</p>
<table>
<thead>
<tr>
<th></th>
<th><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2190" d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z"></path></g></g></g></svg></mjx-container></span></th>
<th><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2190" d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z"></path></g></g></g></svg></mjx-container></span></th>
<th><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2190" d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z"></path></g></g></g></svg></mjx-container></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
</tr>
<tr>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
</tr>
<tr>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
<td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.437ex;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewBox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414Z"></path></g></g></g></svg></mjx-container></span></td>
</tr>
</tbody>
</table>
<p>最优策略不唯一。</p>
<h2 id="problem-2">Problem 2</h2>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317121858.png" fancybox="true"></div></div>
<p>构建 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="4.583ex" height="1.984ex" role="img" focusable="false" viewBox="0 -683 2025.7 877"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="52" d="M37 475Q19 475 19 487Q19 503 35 530T83 589T180 647T327 682H374Q387 682 417 682T464 683Q519 683 559 679T642 663T708 625T731 557Q731 481 668 411T504 300Q506 296 512 286T528 257T553 202Q594 105 611 82Q635 47 665 47Q708 47 742 93Q758 113 786 128Q804 136 819 137Q837 137 837 125Q837 115 818 92T767 43T687 -2T589 -22Q549 -22 517 22T467 120T422 221T362 273Q346 273 346 287Q348 301 373 320T436 342Q437 342 446 343T462 345T481 348T504 353T527 362T553 375T577 393Q598 412 614 443T630 511Q630 545 613 566T541 600T393 614Q370 614 370 613L366 584Q349 446 311 307T243 96L213 25Q205 8 179 -7T132 -22Q125 -22 120 -18T117 -8Q117 -5 130 26T163 113T205 239T246 408T274 606V614Q273 614 259 613T231 609T198 602T163 588Q131 572 113 518Q102 502 80 490T37 475Z"></path></g></g><g data-mml-node="mo" transform="translate(848,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1292.7,0)"><g data-mml-node="mi"><path data-c="50" d="M37 475Q19 475 19 487Q19 536 103 604T327 682Q329 682 344 682T380 682T421 683H463Q625 683 695 615Q718 591 726 564Q733 547 733 525Q733 412 607 312T321 205H312Q293 205 293 217Q293 224 302 236T333 260T385 274Q558 287 614 407Q633 445 633 477Q633 515 612 543T556 585T481 607T399 614H370L368 603Q352 463 312 312T242 82T202 -13Q190 -33 164 -45T121 -57Q108 -57 108 -45Q108 -40 120 -10T151 73T192 190T233 349T266 539Q267 546 269 565T272 598T274 613H270Q209 613 163 588Q131 572 113 518Q102 502 80 490T37 475Z"></path></g></g></g></g></svg></mjx-container></span> 矩阵</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">n</span> <span class="operator">=</span> <span class="number">4</span><span class="operator">;</span></span><br><span class="line"><span class="variable">m</span> <span class="operator">=</span> <span class="number">4</span><span class="operator">;</span></span><br><span class="line"><span class="variable">id</span><span class="punctuation">[</span><span class="type">i_</span><span class="operator">,</span> <span class="type">j_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">m</span> <span class="punctuation">(</span><span class="variable">i</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">)</span> <span class="operator">+</span> <span class="variable">j</span><span class="operator">;</span></span><br><span class="line"><span class="variable">row</span><span class="punctuation">[</span><span class="type">idx_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">Quotient</span><span class="punctuation">[</span><span class="variable">idx</span> <span class="operator">-</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">;</span></span><br><span class="line"><span class="variable">col</span><span class="punctuation">[</span><span class="type">idx_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">Mod</span><span class="punctuation">[</span><span class="variable">idx</span> <span class="operator">-</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">pfunc</span><span class="punctuation">[</span><span class="type">a_</span><span class="operator">,</span> <span class="type">s_</span><span class="operator">,</span> <span class="type">t_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">Switch</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span></span><br><span class="line">   <span class="number">1</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="number">1</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">s</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">id</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span> <span class="operator">-</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">   <span class="number">2</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="variable">n</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">s</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">id</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">   <span class="number">3</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="number">1</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">s</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">id</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">   <span class="number">4</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="variable">m</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">s</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">==</span> <span class="variable">id</span><span class="punctuation">[</span><span class="variable">row</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">col</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line">   <span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">rfunc</span> <span class="punctuation">[</span><span class="type">a_</span><span class="operator">,</span> <span class="type">s_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="variable">pfunc</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">r</span> <span class="operator">=</span> <span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">rfunc</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">a</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">}</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">n</span> <span class="variable">m</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">p</span> <span class="operator">=</span> <span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">pfunc</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="operator">,</span> <span class="variable">t</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">a</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">}</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span> <span class="variable">n</span> <span class="variable">m</span><span class="punctuation">}</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">t</span><span class="operator">,</span> <span class="variable">n</span> <span class="variable">m</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<p>价值迭代算法</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">valueIteration</span><span class="punctuation">[</span><span class="type">r_</span><span class="operator">,</span> <span class="type">p_</span><span class="operator">,</span> <span class="type">v0_</span><span class="operator">,</span> <span class="variable">\[Epsilon]</span><span class="type">_</span><span class="operator">,</span> <span class="variable">\[Gamma]</span><span class="type">_</span><span class="punctuation">]</span> <span class="operator">:=</span></span><br><span class="line">  <span class="built_in">Module</span><span class="punctuation">[</span><span class="punctuation">{</span><span class="variable">k</span><span class="operator">,</span> <span class="variable">v</span><span class="operator">,</span> <span class="variable">vlast</span><span class="punctuation">}</span><span class="operator">,</span></span><br><span class="line">   <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span></span><br><span class="line">   <span class="variable">v</span> <span class="operator">=</span> <span class="variable">v0</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">While</span><span class="punctuation">[</span><span class="variable">k</span> <span class="operator">==</span> <span class="number">0</span> <span class="operator">||</span> <span class="built_in">Norm</span><span class="punctuation">[</span><span class="variable">v</span> <span class="operator">-</span> <span class="variable">vlast</span><span class="punctuation">]</span> <span class="operator">&gt;</span> <span class="variable">\[Epsilon]</span><span class="operator">,</span></span><br><span class="line">    <span class="variable">vlast</span> <span class="operator">=</span> <span class="variable">v</span><span class="operator">;</span></span><br><span class="line">    <span class="variable">v</span> <span class="operator">=</span> <span class="built_in">Table</span><span class="punctuation">[</span></span><br><span class="line">      <span class="built_in">Max</span><span class="punctuation">[</span><span class="built_in">Table</span><span class="punctuation">[</span></span><br><span class="line">        <span class="variable">r</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">\[Gamma]</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">.</span> <span class="variable">vlast</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">a</span><span class="operator">,</span> <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span></span><br><span class="line">       <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">v0</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="built_in">Print</span><span class="punctuation">[</span><span class="variable">k</span><span class="operator">,</span> <span class="variable">v</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="variable">k</span> <span class="operator">=</span> <span class="variable">k</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">"Converged in "</span><span class="operator">,</span> <span class="variable">k</span><span class="operator">,</span> <span class="string">" iterations"</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">Return</span><span class="punctuation">[</span><span class="variable">v</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="punctuation">]</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<p>运行算法，得到输出</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">v</span> <span class="operator">=</span> <span class="variable">valueIteration</span><span class="punctuation">[</span><span class="variable">r</span><span class="operator">,</span> <span class="variable">p</span><span class="operator">,</span> <span class="built_in">ConstantArray</span><span class="punctuation">[</span><span class="number">0</span><span class="operator">,</span> <span class="variable">n</span> <span class="variable">m</span><span class="punctuation">]</span> <span class="operator">,</span> <span class="number">0.1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317151607.png" fancybox="true"></div></div>
<p>贪心选择策略 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.29ex" height="1ex" role="img" focusable="false" viewBox="0 -431 570 442"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></g></g></g></svg></mjx-container></span></p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">greedyPolicy</span><span class="punctuation">[</span><span class="type">r_</span><span class="operator">,</span> <span class="type">p_</span><span class="operator">,</span> <span class="type">v_</span><span class="operator">,</span> <span class="variable">\[Gamma]</span><span class="type">_</span><span class="punctuation">]</span> <span class="operator">:=</span></span><br><span class="line">  <span class="built_in">Table</span><span class="punctuation">[</span><span class="built_in">Ordering</span><span class="punctuation">[</span></span><br><span class="line">     <span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">\[Gamma]</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">.</span> <span class="variable">v</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">a</span><span class="operator">,</span></span><br><span class="line">       <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span> <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">v</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">printPolicyTable</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="type">star_</span><span class="punctuation">]</span> <span class="operator">:=</span></span><br><span class="line">  <span class="built_in">ArrayReshape</span><span class="punctuation">[</span><span class="punctuation">{</span><span class="string">"\[UpArrow]"</span><span class="operator">,</span> <span class="string">"\[DownArrow]"</span><span class="operator">,</span> <span class="string">"\[LeftArrow]"</span><span class="operator">,</span></span><br><span class="line">      <span class="string">"\[RightArrow]"</span><span class="punctuation">}</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="variable">star</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">m</span><span class="punctuation">}</span><span class="punctuation">]</span> <span class="operator">//</span> <span class="built_in">MatrixForm</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ol type="1">
<li><p>运行了 6 轮</p></li>
<li><p>第三轮得到的价值表为 <code>{0,0,-1,-2,0,-1,-2,-3,-1,-2,-3,-3,-2,-3,-3,-3}</code>, 对应的策略为</p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317151857.png" fancybox="true"></div></div></li>
<li><p>最后得到的价值表为 <code>{0,0,-1,-2,0,-1,-2,-3,-1,-2,-3,-4,-2,-3,-4,-5}</code></p></li>
<li><p>最后的最佳策略为</p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317152024.png" fancybox="true"></div></div>
<p>与第一问得到的结果几乎是一致的。</p></li>
</ol>
</blockquote>
<h2 id="problem-3">Problem 3</h2>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317152119.png" fancybox="true"></div></div>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">policyIteration</span><span class="punctuation">[</span><span class="type">r_</span><span class="operator">,</span> <span class="type">p_</span><span class="operator">,</span> <span class="variable">\[Pi]</span><span class="number">0</span><span class="type">_</span><span class="operator">,</span> <span class="variable">\[Epsilon]</span><span class="type">_</span><span class="operator">,</span> <span class="variable">\[Gamma]</span><span class="type">_</span><span class="operator">,</span> <span class="type">n_</span><span class="punctuation">]</span> <span class="operator">:=</span></span><br><span class="line">  <span class="built_in">Module</span><span class="punctuation">[</span><span class="punctuation">{</span><span class="variable">k</span><span class="operator">,</span> <span class="variable">v</span><span class="operator">,</span> <span class="variable">\[Pi]</span><span class="operator">,</span> <span class="variable">\[Pi]</span><span class="variable">last</span><span class="punctuation">}</span><span class="operator">,</span></span><br><span class="line">   <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span></span><br><span class="line">   <span class="variable">\[Pi]</span> <span class="operator">=</span> <span class="variable">\[Pi]</span><span class="number">0</span><span class="operator">;</span></span><br><span class="line">   <span class="variable">v</span> <span class="operator">=</span> <span class="built_in">ConstantArray</span><span class="punctuation">[</span><span class="number">0</span><span class="operator">,</span> <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">While</span><span class="punctuation">[</span><span class="variable">k</span> <span class="operator">==</span> <span class="number">0</span> <span class="operator">||</span> <span class="built_in">Norm</span><span class="punctuation">[</span><span class="variable">\[Pi]</span> <span class="operator">-</span> <span class="variable">\[Pi]</span><span class="variable">last</span><span class="punctuation">]</span> <span class="operator">&gt;</span> <span class="variable">\[Epsilon]</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">Do</span><span class="punctuation">[</span><span class="variable">v</span> <span class="operator">=</span></span><br><span class="line">      <span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">\[Gamma]</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">.</span> <span class="variable">v</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span></span><br><span class="line">        <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="number">0</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="variable">\[Pi]</span><span class="variable">last</span> <span class="operator">=</span> <span class="variable">\[Pi]</span><span class="operator">;</span></span><br><span class="line">    <span class="variable">\[Pi]</span> <span class="operator">=</span></span><br><span class="line">     <span class="built_in">Table</span><span class="punctuation">[</span><span class="built_in">Ordering</span><span class="punctuation">[</span></span><br><span class="line">        <span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">\[Gamma]</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">s</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">.</span> <span class="variable">v</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">a</span><span class="operator">,</span></span><br><span class="line">          <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">r</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">{</span><span class="variable">s</span><span class="operator">,</span> <span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">v</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">"k = "</span><span class="operator">,</span> <span class="variable">k</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">"v = "</span><span class="operator">,</span> <span class="variable">v</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">"\[Pi] = "</span><span class="operator">,</span> <span class="variable">\[Pi]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">    <span class="variable">k</span> <span class="operator">=</span> <span class="variable">k</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">"Converged in "</span><span class="operator">,</span> <span class="variable">k</span><span class="operator">,</span> <span class="string">" iterations"</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="built_in">Return</span><span class="punctuation">[</span><span class="variable">\[Pi]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line">   <span class="punctuation">]</span><span class="operator">;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">policyIteration</span><span class="punctuation">[</span><span class="variable">r</span><span class="operator">,</span> <span class="variable">p</span><span class="operator">,</span> <span class="built_in">ConstantArray</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="variable">n</span> <span class="variable">m</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">0.1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317155613.png" fancybox="true"></div></div>
<blockquote>
<ol type="1">
<li><p>需要 5 轮收敛</p></li>
<li><p>收敛得到的策略与 VI 一致。</p></li>
<li><p>收敛得到的价值表与 VI 一致。</p></li>
<li><p>第三轮结束时得到的价值表 <code>{0,0,-1,-6,0,-1,-2,-6,-1,-2,-3,-6,-2,-3,-6,-6}</code>, 对应策略表</p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317155905.png" fancybox="true"></div></div></li>
</ol>
</blockquote>
<h2 id="problem-4">Problem 4</h2>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.duanyll.com/img/20240317155952.png" fancybox="true"></div></div>
<p>注意到 VI 可以等价为 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="6.157ex" height="1.731ex" role="img" focusable="false" viewBox="0 -683 2721.6 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(1165.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(2221.6,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container></span> 的 PI。压缩映射原理保证了直接迭代最优价值函数能收敛，于是 VI 采取了简单直接的迭代做法。PI 则是利用价值来改进策略，但仍然需要用策略来更新对价值的估计。取有限 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container></span> 的 PI 相当于是在在价值的迭代和策略的迭代之间做出了折衷。</p>
<p>很难比较两种做法的效率，VI 的迭代过程虽然更简单，但可能面临精确步长法相比于共轭梯度法的问题，导致总共的迭代次数比 PI 更多。</p>



<div class="article-footer reveal fs14">
    <section id="license">
      <div class="header"><span>许可协议</span></div>
      <div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">署名-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    
    <section id="share">
      <div class="header"><span>分享文章</span></div>
      <div class="body">
        <div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://duanyll.com/2024/3/17/RL-3/" /></div>
        <div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/b32ef3da1162a.svg"/></a><a class="social share-item weibo" target="_blank" rel="external nofollow noopener noreferrer" href="https://service.weibo.com/share/share.php?url=https://duanyll.com/2024/3/17/RL-3/&title=强化学习作业 3 - duanyll&summary=
Problem 1

对应于从 S 出发的单源最短路问题。容易得到一种最优策略






























最优策略不唯一。
Problem 2

构建  矩阵
12345n = 4;m = 4;id..."><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/80c07e4dbb303.svg"/></a><a class="social share-item email" href="mailto:?subject=强化学习作业 3 - duanyll&amp;body=https://duanyll.com/2024/3/17/RL-3/"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/a1b00e20f425d.svg"/></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;复制成功&quot;)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/8411ed322ced6.svg"/></a><a class="social share-item print" onclick="window.print()"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/img/print.svg" /></a><a class="social share-item source" target="_blank" rel="noopener" href="https://github.com/duanyll/duanyll.com-hexo/blob/master/source/_posts/course/2024-3-17-RL-3.md"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/social/08a41b181ce68.svg"/></a></div>
        
        <div class="qrcode" id="qrcode-wechat" style="visibility:hidden;height:0">
          <img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://duanyll.com/2024/3/17/RL-3/"/>
        </div>
        
      </div>
    </section>
    
      <section id="star">
        <div class="body">
          <span class="github-button-wrap">
            <a class="github-button" 
               target="_blank" rel="noopener" href="https://github.com/duanyll/duanyll.com-hexo" 
               data-color-scheme="no-preference: light; light: light; dark: dark;" 
               data-size="large" 
               data-show-count="true" 
               aria-label="Star this site on GitHub">Star</a>
            <span>喜欢这个网站？在 GitHub 上给它一个 Star 吧！</span>
          </span>
        </div>
      </section>
    </div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2024/3/20/RL-4/">强化学习作业 4</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2024/3/10/DE-1/">微分方程数值解作业 1</a></div></section></div>


<div class="related-wrap reveal" id="related-posts">
    <section class='header'>
      <div class='title cap theme'>您可能感兴趣的文章</div>
    </section>
    <section class='body'>
    <div class="related-posts"><a class="item" href="/2024/3/20/RL-4/" title="强化学习作业 4"><span class="title">强化学习作业 4</span></a><a class="item" href="/2024/3/7/RL-1/" title="强化学习作业 1"><span class="title">强化学习作业 1</span></a><a class="item" href="/2024/4/14/RL-5/" title="强化学习作业 5"><span class="title">强化学习作业 5</span></a><a class="item" href="/2024/3/7/RL-2/" title="强化学习作业 2"><span class="title">强化学习作业 2</span></a><a class="item" href="/2020/5/5/Derivative/" title="高中数学导数总结"><span class="title">高中数学导数总结</span></a></div></section></div>



  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body utterances'>
      

<!-- <svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg> -->

<div id="utterances" repo="duanyll/duanyll.com-comment" issue-term="pathname" theme="switch" label="Comment" enabled="true" issue_term="pathname"></div>

    </section>
  </div>



      
      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">博客</span><a href="/">近期</a><a href="/categories">分类</a><a href="/tags">标签</a><a href="/archives">归档</a></div><div class="sitemap-group"><span class="fs14">项目</span><a target="_blank" rel="noopener" href="https://github.com/duanyll">开源库</a><a href="/wiki/">文档</a><a target="_blank" rel="noopener" href="https://github.com/duanyll/scoop-bucket">Scoop Bucket</a></div><div class="sitemap-group"><span class="fs14">社交</span><a href="/about/#comments">留言板</a><a target="_blank" rel="noopener" href="https://netunion.org">NetUnion</a></div><div class="sitemap-group"><span class="fs14">更多</span><a href="/about">关于本站</a><a target="_blank" rel="noopener" href="https://github.com/duanyll/duanyll.com-hexo">GitHub 源码</a><a target="_blank" rel="noopener" href="https://duanyll.cloudflareaccess.com">Dashboard</a></div></div><div class="text"><p>本站由 <a target="_blank" rel="noopener" href="https://github.com/duanyll">duanyll</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。 本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.21.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.21.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js","memos":"/js/plugins/memos.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide:not(.swiper-slide-duplicate) img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadUtterances() {
    const els = document.querySelectorAll("#comments #utterances");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.error(error);
      }
      var script = document.createElement('script');
      script.src = 'https://utteranc.es/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          var name = attr.name;
          var value = attr.value;
          if (name == 'theme' && value == 'switch') {
            value = window.currentTheme == 'dark' ? 'github-dark' : 'github-light';
          }
          script.setAttribute(name, value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
      loadUtterances();
  });
</script>





  
<script src="https://buttons.github.io/buttons.js" async></script>



<!-- inject -->


  </div>
</body>
</html>
